(this.webpackJsonpkitscon212=this.webpackJsonpkitscon212||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),r=n(8),c=n.n(r),l=(n(14),n(4)),s=n(2),u=(n(15),n(3)),o=n(9),h=n(16),f="MD5",b="SHA-256",j="SHA-512";function d(t){for(var e=g(t),n=[],i=0;i+1<e.length;i+=2){var a=e[i],r=e[i+1],c=a.substring(0,2),l=a.substring(2,4),s=r.substring(0,2),o=r.substring(2,4);n=[].concat(Object(u.a)(n),[o,s,l,c])}return n}function v(t){for(var e=g(t),n=[],i=0;i+2<e.length;i+=3){var a=e[i].concat(e[i+1],e[i+2]),r=a.substring(0,3),c=a.substring(3,6),l=a.substring(6,9),s=a.substring(9,12);n=[].concat(Object(u.a)(n),[r,c,l,s])}return n}function p(t,e){var n="";if(e===f)n=h(t);else{var i=new o.a(e,"TEXT",{encoding:"UTF8"});i.update(t),n=i.getHash("HEX")}return n}function g(t){return t.split("").map((function(t){return function(t){return parseInt(t,16).toString(2).padStart(4,"0")}(t)}))}function x(t){var e=t.boardHeight,n=t.boardWidth,i=t.input,a=Math.floor(e/2),r=Math.floor(n/2),c=d(i),l=[{x:r,y:a}];return c.forEach((function(t){var i=l[l.length-1].y,a=l[l.length-1].x;l.push(O(a,i,e,n,t))})),l}function O(t,e,n,i,a){var r=a.charAt(0),c=a.charAt(1),l=e,s=t;return"0"===r?l=e+1<n?e+1:e:"1"===r&&(l=e-1>=0?e-1:e),"0"===c?s=t-1>=0?t-1:t:"1"===c&&(s=t+1<i?t+1:t),{x:s,y:l}}function m(t){var e=t.boardHeight,n=t.boardWidth,i=t.input,a=Math.floor(e/2),r=Math.floor(n/2),c=Object(u.a)(v(i)),l=[{x:r,y:a}];return c.forEach((function(t){var i=l[l.length-1].y,a=l[l.length-1].x,r=t.charAt(0),c=t.charAt(1),s="0"===r?2:1,u=t.charAt(2),o="0"===r?1:2;"0"===c?i=i+s<e?i+s:i:"1"===c&&(i=i-s>=0?i-s:i),"0"===u?a=a-o>=0?a-o:a:"1"===u&&(a=a+o<n?a+o:a),l.push({x:a,y:i})})),l}function y(t){var e=t.boardHeight,n=t.boardWidth,i=t.input,a=Math.floor(e/2),r=Math.floor(n/2),c=d(i),l=[{x:r,y:a}];return c.forEach((function(t){var i=l[l.length-1].y,a=l[l.length-1].x;l.push(S(a,i,e,n,t))})),l}function S(t,e,n,i,a){var r=a.charAt(0),c="1"===a.charAt(1)?1:-1,l=e,s=t;return"0"===r&&(l=e+c<n&&e+c>=0?e+c:e),"1"===r&&(s=t+c<i&&t+c>=0?t+c:t),{x:s,y:l}}function N(t){var e=t.boardHeight,n=t.boardWidth,i=t.input,a=Math.floor(e/2),r=Math.floor(n/2),c=v(i),l=[{x:r,y:a}];return c.forEach((function(t){var i=l[l.length-1].y,a=l[l.length-1].x,r=t.charAt(0),c=t.substring(1,3);"0"===r?l.push(S(a,i,e,n,c)):"1"===r&&l.push(O(a,i,e,n,c))})),l}function k(t,e,n){for(var i=Array(t).fill(null).map((function(){return Array(e).fill(0)})),a=n[0].length,r=function(r){n.forEach((function(n){var c=w(n[r],t,e);0===r&&(i[c.y][c.x]=15),r===a-1&&(i[c.y][c.x]=16),i[c.y][c.x]=i[c.y][c.x]<15?i[c.y][c.x]+1:i[c.y][c.x]}))},c=0;c<a;c++)r(c);return i}function w(t,e,n){return{x:t.x,y:e-t.y-1}}var E=n(0),A=[" ",".","o","+","=","*","B","0","X","@","%","&","#","/","^","S","E"],R=function(t){var e=t.height,n=t.width,a=t.paths,r=Object(i.useState)(""),c=Object(s.a)(r,2),l=c[0],o=c[1];return Object(i.useEffect)((function(){if(e>0&&n>0){var t=k(e,n,a),i=["+"].concat(Object(u.a)(Array(n).fill("-")),["+\n"]).join(""),r=t.map((function(t){return["|"].concat(Object(u.a)(t.map((function(t){return A[t]}))),["|\n"])})).flat().join("");o(i.concat(r,i))}}),[a,e,n]),Object(E.jsx)("div",{children:Object(E.jsx)("pre",{style:{fontSize:"20px",marginBottom:"0"},children:l})})},M="Lines",H="Squares";function C(t){var e=t.height,n=t.width,a=t.paths,r=t.visualisationAlgorithm,c=500,s=500,u=Object(i.useRef)(null);Object(i.useEffect)((function(){if(e>0&&n>0&&!function(t){return t.every((function(t){return 0===t.length}))}(a)){var t=u.current,i=null===t||void 0===t?void 0:t.getContext("2d");if(t&&i){var j=e>n?490/e:490/n,d=(c-j*n)/2,v=(s-j*e)/2;if(o(i),h(i,v,d),r===H){var p=k(e,n,a);f(i,p,j,d,v)}else if(r===M){var g=function(t){var e=[];return t.forEach((function(t){t.forEach((function(t,n,i){if(void 0!==i[n+1]){var a={start:t,end:i[n+1],timesTaken:1},r=e.findIndex((function(t){return t.start.x===a.start.x&&t.start.y===a.start.y&&t.end.x===a.end.x&&t.end.y===a.end.y}));if(r>-1){var c=e[r];e[r]=Object(l.a)(Object(l.a)({},c),{},{timesTaken:c.timesTaken+1})}else e.push(a)}}))})),e}(a.map((function(t){return function(t,e,n){return t.map((function(t){return w(t,e)}))}(t,e)}))),x=a.map((function(t){return w(t[0],e)})),O=a.map((function(t){return w(t[t.length-1],e)}));b(i,g,x,O,j,d,v)}}}}),[e,n,a,r]);var o=function(t){t.clearRect(0,0,c,s),t.fillStyle="rgba(255,255,255,0)",t.fillRect(0,0,c,s),t.beginPath()},h=function(t,e,n){if(t.fillStyle="rgb(0,0,0)",e>0){var i=c-2*n+10;t.fillRect(n-5,e-5,i,5),t.fillRect(n-5,s-e,i,5)}if(n>0){var a=s-2*e+10;t.fillRect(n-5,e-5,5,a),t.fillRect(c-n,e-5,5,a)}},f=function(t,e,n,i,a){var r=function(t){for(var e=-1,n=-1,i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){var r=t[i][a];0!==r&&15!==r&&16!==r&&((-1===e||r<e)&&(e=r),(-1===n||r>n)&&(n=r))}return{lowestValue:e,highestValue:n}}(e),l=r.highestValue,u=360*Math.random(),o=60/l;t.fillStyle="rgb(255,255,255)",t.fillRect(i,a,c-2*i,s-2*a);for(var h=0;h<e.length;h++)for(var f=0;f<e[h].length;f++)if(0!==e[h][f]){var b=80-o*e[h][f];t.fillStyle="hsl(".concat(u,", 50%, ").concat(b,"%)"),15===e[h][f]&&(t.fillStyle="hsl(".concat(u,", 50%, 80%)")),16===e[h][f]&&(t.fillStyle="hsl(".concat(u,", 50%, 10%)")),t.fillRect(i+f*n,a+h*n,n,n)}},b=function(t,e,n,i,a,r,l){t.fillStyle="rgb(255,255,255)",t.fillRect(r,l,c-2*r,s-2*l),t.fillStyle="rgb(0,0,0)";var u=function(t){return t*a+a/2},o=function(t){return t*a+a/2};e.forEach((function(e){var n=r+u(e.start.x),i=l+o(e.start.y),a=r+u(e.end.x),c=l+o(e.end.y);t.beginPath(),t.lineWidth=2,t.moveTo(n,i),t.lineTo(a,c),t.stroke()})),n.forEach((function(e){var n=r+u(e.x),i=l+o(e.y);t.beginPath(),t.arc(n,i,a/4,0,2*Math.PI),t.fill()})),i.forEach((function(e){var n=r+u(e.x),i=l+o(e.y),c=a/2;t.beginPath(),t.fillRect(n-c/2,i-c/2,c,c)}))};return Object(E.jsxs)("div",{children:[Object(E.jsx)("canvas",{ref:u,width:c,height:s}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{onClick:function(){return function(){if(u&&u.current){var t=u.current.toDataURL("image/png"),e=window.open();null===e||void 0===e||e.document.write("<img src=".concat(t," />"))}}()},children:"Save image"})})]})}var T="bishop",W="rook",I="knight",P="king";var B=function(){var t=Object(i.useState)(9),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(i.useState)(17),c=Object(s.a)(r,2),u=c[0],o=c[1],h=Object(i.useState)("kitscon"),d=Object(s.a)(h,2),v=d[0],g=d[1],O=Object(i.useState)(T),S=Object(s.a)(O,2),k=S[0],w=S[1],A=Object(i.useState)(f),B=Object(s.a)(A,2),z=B[0],K=B[1],L=Object(i.useState)(H),V=Object(s.a)(L,2),X=V[0],D=V[1],J=Object(i.useState)((function(){return x})),U=Object(s.a)(J,2),q=U[0],F=U[1],_=Object(i.useState)({height:n,width:u,paths:[[]]}),G=Object(s.a)(_,2),Q=G[0],Y=G[1],Z=Object(i.useState)({height:n,width:u,paths:[[]],visualisationAlgorithm:X}),$=Object(s.a)(Z,2),tt=$[0],et=$[1];return Object(i.useEffect)((function(){k===T?F((function(){return x})):k===W?F((function(){return y})):k===I?F((function(){return m})):k===P&&F((function(){return N}))}),[k]),Object(i.useEffect)((function(){var t=q({boardHeight:n,boardWidth:u,input:p(v,z)});Y({height:n,width:u,paths:[t]}),et({height:n,width:u,paths:[t],visualisationAlgorithm:X})}),[n,u,v,z,X,q]),Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)("h1",{className:"big-header",children:"KitsCon 21.2"}),Object(E.jsxs)("p",{className:"explainer",children:["On this page you can find an implementation of the"," ",Object(E.jsx)("a",{href:"http://www.dirk-loss.de/sshvis/drunken_bishop.pdf",children:"drunken bishop algorithm"}),", along with some alternative movesets and visualisations."]}),Object(E.jsx)("p",{className:"explainer",children:"The board starts out at 9 \xd7 17 as this is the size used in OpenSSH, but the visualisation looks better at smaller sizes, so try out something like 5 \xd7 5."}),Object(E.jsx)("p",{className:"explainer",children:"Experiment with different inputs, walk algorithms and visualisations. If you see a visualisation you like, you can save it by clicking the button under the picture!"}),Object(E.jsxs)("div",{className:"input-container",children:[Object(E.jsx)("label",{className:"input-label",children:"Input to be hashed"}),Object(E.jsx)("input",{className:"input-element",value:v,onChange:function(t){return g(t.target.value)}})]}),Object(E.jsxs)("div",{className:"input-container",children:[Object(E.jsx)("label",{className:"input-label",children:"Select walk algorithm"}),Object(E.jsxs)("select",{className:"input-element",value:k,onChange:function(t){return w(t.target.value)},children:[Object(E.jsx)("option",{value:T,children:"Bishop"}),Object(E.jsx)("option",{value:I,children:"Knight"}),Object(E.jsx)("option",{value:W,children:"Rook"}),Object(E.jsx)("option",{value:P,children:"King"})]})]}),Object(E.jsxs)("div",{className:"input-container",children:[Object(E.jsx)("label",{className:"input-label",children:"Select hashing algorithm"}),Object(E.jsxs)("select",{className:"input-element",value:z,onChange:function(t){return K(t.target.value)},children:[Object(E.jsx)("option",{value:f,children:f}),Object(E.jsx)("option",{value:b,children:b}),Object(E.jsx)("option",{value:j,children:j})]})]}),Object(E.jsxs)("div",{className:"input-container split-input-container",children:[Object(E.jsxs)("div",{className:"split-input-divider",style:{marginRight:"8px"},children:[Object(E.jsx)("label",{className:"input-label",children:"Height"}),Object(E.jsx)("input",{className:"input-element",type:"number",value:n,min:1,onChange:function(t){return a(Number(t.target.value))}})]}),Object(E.jsxs)("div",{className:"split-input-divider",style:{marginLeft:"8px"},children:[Object(E.jsx)("label",{className:"input-label",children:"Width"}),Object(E.jsx)("input",{className:"input-element",type:"number",value:u,min:1,onChange:function(t){return o(Number(t.target.value))}})]})]}),Object(E.jsxs)("div",{className:"input-container",children:[Object(E.jsx)("label",{className:"input-label",children:"Select visualisation algorithm"}),Object(E.jsxs)("select",{className:"input-element",value:X,onChange:function(t){return D(t.target.value)},children:[Object(E.jsx)("option",{value:H,children:H}),Object(E.jsx)("option",{value:M,children:M})]})]}),Object(E.jsx)(C,Object(l.a)({},tt)),Object(E.jsx)(R,Object(l.a)({},Q))]})};c.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(B,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.8e789198.chunk.js.map